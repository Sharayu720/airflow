# Airflow Setup with Nginx Reverse Proxy

## Prerequisites

- EC2 instance with Ubuntu or CentOS-based OS.
- Airflow is already set up in a virtual environment.
- You have Nginx installed on the system or it's installed using `installairflow.sh`.

## Nginx Configuration

Nginx is configured to reverse proxy Airflow. The following settings are required:

1. **Update Airflow's `airflow.cfg`**:
   - Set `web_server_host = 0.0.0.0` to allow Airflow to listen on all interfaces.
   - Set `base_url` to your domain (e.g., `http://your-domain.com`).

2. **Configure Nginx**:
   - The Nginx configuration should forward traffic from `http://your-domain.com` to the Airflow webserver running on `http://127.0.0.1:8080`.

   Example Nginx configuration (`/etc/nginx/nginx.conf`):
   ```nginx
   server {
       listen 80;
       server_name your-domain.com;

       location / {
           proxy_pass http://127.0.0.1:8080;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
           proxy_set_header X-Forwarded-Proto $scheme;
       }
   }
